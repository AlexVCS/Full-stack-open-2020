[{"/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/index.js":"1","/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/App.js":"2","/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/components/PersonForm.js":"3","/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/components/DisplayPeople.js":"4","/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/components/Filter.js":"5","/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/services/person.js":"6","/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/components/Notification.js":"7","/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/services/uuid.js":"8"},{"size":181,"mtime":1618361411000,"results":"9","hashOfConfig":"10"},{"size":3040,"mtime":1621859656000,"results":"11","hashOfConfig":"10"},{"size":720,"mtime":1621860060000,"results":"12","hashOfConfig":"10"},{"size":358,"mtime":1619910149000,"results":"13","hashOfConfig":"10"},{"size":255,"mtime":1613871453000,"results":"14","hashOfConfig":"10"},{"size":869,"mtime":1619911366000,"results":"15","hashOfConfig":"10"},{"size":225,"mtime":1621859629000,"results":"16","hashOfConfig":"10"},{"size":462,"mtime":1619908694000,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"6etxrt",{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/index.js",[],["36","37"],"/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/App.js",["38"],"import React, { useState, useEffect } from 'react'\nimport personService from './services/person'\nimport DisplayPeople from './components/DisplayPeople'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport createUUID from './services/uuid'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ message, setMessage ] = useState(`Added ${newName}`)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: createUUID(),\n    }\n\n    personService\n      .create(personObject)\n      .then(response => {\n        console.log(response);\n      })\n    }\n\n  function addPerson( personObject ) {\n    personService\n      .create(personObject)\n      .then(response => {\n        console.log(response);\n      })\n      setPersons([...persons, personObject])\n  }\n\n  function updatePerson(id, personObject) {\n    personService\n      .update(id, personObject)\n      .then(response => {\n        setPersons(persons.map(newPhone => newPhone.id !== id ? newPhone : response.data))\n      })\n  }\n\n  function handleNameSubmit(personObject, number) {\n    const findMatch = persons.find( person => person.name.toLowerCase() === newName.toLowerCase())\n      if( findMatch ) {\n      const person = { ...personObject, number }\n      console.log(personObject);\n      updatePerson(person.id, person);\n      } else {\n      const person = { name: newName, number: newNumber, id: createUUID() }\n      addPerson(person)\n      }\n      setNewName('')\n      setNewNumber('')\n  }\n\n  const removePerson = async (id, name) => {\n    await personService\n      .remove(id, name)\n    const removeById = persons.filter((person) => {\n      return person.id !== id\n    })\n    setPersons(removeById);\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const people = persons.filter(person => {\n    return person.name.toLowerCase().includes( search.toLowerCase() )\n  })\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification\n          message={message}\n          newName={newName}\n        />\n        <Filter setSearch={setSearch} />\n          <PersonForm \n            newName={newName}\n            addName={addName}\n            handleNameChange={handleNameChange}\n            handleNameSubmit={handleNameSubmit}\n            newNumber={newNumber}\n            handleNumberChange={handleNumberChange}\n          />\n        <h2>Numbers</h2>\n          <DisplayPeople\n            people={people}\n            removePerson={removePerson}\n          />\n    </div>\n  )\n}\n\nexport default App","/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/components/PersonForm.js",[],"/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/components/DisplayPeople.js",[],"/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/components/Filter.js",[],"/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/services/person.js",[],"/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/components/Notification.js",[],"/Users/alex/Desktop/Projects/Full-stack-open-2020/part2/phonebook/src/services/uuid.js",[],{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","severity":1,"message":"44","line":14,"column":20,"nodeType":"45","messageId":"46","endLine":14,"endColumn":30},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"no-unused-vars","'setMessage' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]